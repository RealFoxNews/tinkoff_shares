'use strict';const _0x34c1a8=_0x19a9;(function(_0x4db7fb,_0x2e4efe){const _0x139156=_0x19a9,_0x4ba106=_0x4db7fb();while(!![]){try{const _0x35b7e0=-parseInt(_0x139156(0x10e))/0x1*(-parseInt(_0x139156(0x12a))/0x2)+-parseInt(_0x139156(0x11b))/0x3*(-parseInt(_0x139156(0x128))/0x4)+parseInt(_0x139156(0x115))/0x5*(-parseInt(_0x139156(0x127))/0x6)+parseInt(_0x139156(0x11a))/0x7+-parseInt(_0x139156(0x116))/0x8+-parseInt(_0x139156(0xfd))/0x9*(parseInt(_0x139156(0xfe))/0xa)+parseInt(_0x139156(0x123))/0xb*(parseInt(_0x139156(0x117))/0xc);if(_0x35b7e0===_0x2e4efe)break;else _0x4ba106['push'](_0x4ba106['shift']());}catch(_0x14a0f9){_0x4ba106['push'](_0x4ba106['shift']());}}}(_0x19a5,0xdc812));var __decorate=this&&this[_0x34c1a8(0x102)]||function(_0x2f4458,_0x181966,_0x543a79,_0x1dcb73){const _0x564ead=_0x34c1a8;var _0x455744=arguments[_0x564ead(0x10a)],_0x4462dd=_0x455744<0x3?_0x181966:_0x1dcb73===null?_0x1dcb73=Object[_0x564ead(0x122)](_0x181966,_0x543a79):_0x1dcb73,_0x29b6b7;if(typeof Reflect===_0x564ead(0x11d)&&typeof Reflect[_0x564ead(0x100)]===_0x564ead(0xff))_0x4462dd=Reflect[_0x564ead(0x100)](_0x2f4458,_0x181966,_0x543a79,_0x1dcb73);else{for(var _0x34a3ac=_0x2f4458['length']-0x1;_0x34a3ac>=0x0;_0x34a3ac--)if(_0x29b6b7=_0x2f4458[_0x34a3ac])_0x4462dd=(_0x455744<0x3?_0x29b6b7(_0x4462dd):_0x455744>0x3?_0x29b6b7(_0x181966,_0x543a79,_0x4462dd):_0x29b6b7(_0x181966,_0x543a79))||_0x4462dd;}return _0x455744>0x3&&_0x4462dd&&Object[_0x564ead(0x11c)](_0x181966,_0x543a79,_0x4462dd),_0x4462dd;};Object[_0x34c1a8(0x11c)](exports,_0x34c1a8(0x108),{'value':!![]}),exports[_0x34c1a8(0x119)]=void 0x0;function _0x19a5(){const _0x49bd67=['day','sub','start','2GoJWKh','stop','0\x2000\x20*\x20*\x200-6','minute','log','@nestjs/common','cron','952350WPahzH','11912904cSMIQT','12osdjsV','moment','ShareClose','10988607JiMRbj','3dUSwZQ','defineProperty','object','from','BehaviorSubject','forEach','../classes/share.watcher.class','getOwnPropertyDescriptor','13612247mmocqY','CandleInterval','complete','\x1b[31m','54tAtUFI','4978744sQVBkA','add','1100596BkUbxO','hour','toDate','subtract','figi','9414279Hvglkq','10VHlmZw','function','decorate','marketdata','__decorate','ShareWather','startOf','subscribe','getCandles','CANDLE_INTERVAL_1_MIN','__esModule','format','length'];_0x19a5=function(){return _0x49bd67;};return _0x19a5();}function _0x19a9(_0x534f48,_0x23e91d){const _0x19a5f6=_0x19a5();return _0x19a9=function(_0x19a952,_0x12bfa2){_0x19a952=_0x19a952-0xfc;let _0x1bced5=_0x19a5f6[_0x19a952];return _0x1bced5;},_0x19a9(_0x534f48,_0x23e91d);}const common_1=require(_0x34c1a8(0x113)),cron_1=require(_0x34c1a8(0x114)),moment=require(_0x34c1a8(0x118)),rxjs_1=require('rxjs'),marketdata_1=require('tinkoff-invest-api/cjs/generated/marketdata'),share_watcher_class_1=require(_0x34c1a8(0x121));let ShareClose=class ShareClose extends share_watcher_class_1[_0x34c1a8(0x103)]{['watch'](_0x5ee90a,_0x14de89){const _0x4af996=_0x34c1a8;return this[_0x4af996(0x10c)]=new rxjs_1[(_0x4af996(0x11f))](null),this[_0x4af996(0x114)]=new cron_1['CronJob'](_0x4af996(0x110),()=>{const _0x503440=_0x4af996;_0x5ee90a[_0x503440(0x120)]((_0x5869ed,_0x230cd8)=>{const _0x4ac48a=_0x503440,_0x536dff=moment()['startOf'](_0x4ac48a(0x10b))[_0x4ac48a(0x12d)](0x1,'day')[_0x4ac48a(0x129)](0x17,_0x4ac48a(0x12b))[_0x4ac48a(0x129)](0x3a,_0x4ac48a(0x111))[_0x4ac48a(0x12c)](),_0x1be0a2=moment()[_0x4ac48a(0x104)]('day')[_0x4ac48a(0x12c)]();_0x14de89['marketdata'][_0x4ac48a(0x106)]({'figi':_0x5869ed[_0x4ac48a(0xfc)],'interval':marketdata_1[_0x4ac48a(0x124)][_0x4ac48a(0x107)],'from':_0x536dff,'to':_0x1be0a2});});}),_0x5ee90a[_0x4af996(0x120)]((_0x1d7ce2,_0x5412cb)=>{const _0x24ab3c=_0x4af996,_0x1eb918=moment()[_0x24ab3c(0x109)]('HH:mm:ss');setTimeout(()=>{const _0x349592=_0x24ab3c;(0x0,rxjs_1[_0x349592(0x11e)])(_0x14de89[_0x349592(0x101)][_0x349592(0x106)]({'figi':_0x1d7ce2[_0x349592(0xfc)],'interval':marketdata_1['CandleInterval']['CANDLE_INTERVAL_1_MIN'],'from':moment()[_0x349592(0x104)](_0x349592(0x10b))[_0x349592(0x12d)](0x1,_0x349592(0x10b))[_0x349592(0x129)](0x17,_0x349592(0x12b))[_0x349592(0x129)](0x3b,_0x349592(0x111))[_0x349592(0x12c)](),'to':moment()[_0x349592(0x104)](_0x349592(0x10b))['toDate']()}))[_0x349592(0x105)](_0x3cba61=>{const _0x2bc70d=_0x349592;console['log'](_0x3cba61,_0x5ee90a[_0x2bc70d(0x10a)],_0x5412cb,_0x1eb918);});},0xfa*_0x5412cb);}),this[_0x4af996(0x114)][_0x4af996(0x10d)](),this[_0x4af996(0x10c)];}['unWatch'](){const _0x11d4ca=_0x34c1a8;this[_0x11d4ca(0x114)]&&this[_0x11d4ca(0x114)][_0x11d4ca(0x10f)](),this[_0x11d4ca(0x10c)]&&this[_0x11d4ca(0x10c)][_0x11d4ca(0x125)](),console[_0x11d4ca(0x112)](_0x11d4ca(0x126),'Сервис\x20дивидендных\x20акций\x20выключен','\x1b[37m');}};ShareClose=__decorate([(0x0,common_1['Injectable'])()],ShareClose),exports[_0x34c1a8(0x119)]=ShareClose;