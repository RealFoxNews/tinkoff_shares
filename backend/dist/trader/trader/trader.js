'use strict';const _0x12ba73=_0x2a85;(function(_0x3801ce,_0x24fa1){const _0x89b444=_0x2a85,_0x3abb36=_0x3801ce();while(!![]){try{const _0x2d87a7=parseInt(_0x89b444(0x13b))/0x1*(-parseInt(_0x89b444(0x16a))/0x2)+-parseInt(_0x89b444(0x149))/0x3*(-parseInt(_0x89b444(0x124))/0x4)+parseInt(_0x89b444(0x15c))/0x5*(-parseInt(_0x89b444(0x123))/0x6)+-parseInt(_0x89b444(0x11e))/0x7*(-parseInt(_0x89b444(0x163))/0x8)+parseInt(_0x89b444(0x11c))/0x9+-parseInt(_0x89b444(0x147))/0xa+parseInt(_0x89b444(0x150))/0xb*(parseInt(_0x89b444(0x138))/0xc);if(_0x2d87a7===_0x24fa1)break;else _0x3abb36['push'](_0x3abb36['shift']());}catch(_0x5af2e6){_0x3abb36['push'](_0x3abb36['shift']());}}}(_0x4806,0x9a188));function _0x2a85(_0x5a3c3e,_0x4edbfa){const _0x48068d=_0x4806();return _0x2a85=function(_0x2a85e5,_0x5d9244){_0x2a85e5=_0x2a85e5-0x11b;let _0x532e16=_0x48068d[_0x2a85e5];return _0x532e16;},_0x2a85(_0x5a3c3e,_0x4edbfa);}var __decorate=this&&this[_0x12ba73(0x13a)]||function(_0x3f8d62,_0xf8a958,_0x1f7f77,_0x25a501){const _0x215349=_0x12ba73;var _0x52c44f=arguments['length'],_0x4104e0=_0x52c44f<0x3?_0xf8a958:_0x25a501===null?_0x25a501=Object[_0x215349(0x155)](_0xf8a958,_0x1f7f77):_0x25a501,_0x3648bb;if(typeof Reflect===_0x215349(0x16c)&&typeof Reflect[_0x215349(0x12f)]===_0x215349(0x14c))_0x4104e0=Reflect[_0x215349(0x12f)](_0x3f8d62,_0xf8a958,_0x1f7f77,_0x25a501);else{for(var _0x4fabd9=_0x3f8d62[_0x215349(0x11f)]-0x1;_0x4fabd9>=0x0;_0x4fabd9--)if(_0x3648bb=_0x3f8d62[_0x4fabd9])_0x4104e0=(_0x52c44f<0x3?_0x3648bb(_0x4104e0):_0x52c44f>0x3?_0x3648bb(_0xf8a958,_0x1f7f77,_0x4104e0):_0x3648bb(_0xf8a958,_0x1f7f77))||_0x4104e0;}return _0x52c44f>0x3&&_0x4104e0&&Object[_0x215349(0x11b)](_0xf8a958,_0x1f7f77,_0x4104e0),_0x4104e0;},__metadata=this&&this['__metadata']||function(_0x92939a,_0x3e5fdd){const _0x5550f9=_0x12ba73;if(typeof Reflect==='object'&&typeof Reflect[_0x5550f9(0x120)]===_0x5550f9(0x14c))return Reflect[_0x5550f9(0x120)](_0x92939a,_0x3e5fdd);};Object[_0x12ba73(0x11b)](exports,'__esModule',{'value':!![]}),exports['Trader']=void 0x0;const common_1=require(_0x12ba73(0x143)),api_1=require(_0x12ba73(0x132)),drop_shares_1=require(_0x12ba73(0x13f)),trader_base_class_1=require(_0x12ba73(0x162)),wallet_1=require(_0x12ba73(0x157)),share_close_1=require(_0x12ba73(0x144)),share_dividents_1=require(_0x12ba73(0x148)),share_fda_1=require(_0x12ba73(0x14d)),share_halts_1=require('./services/share.halts'),share_reports_1=require(_0x12ba73(0x12c));let Trader=class Trader extends trader_base_class_1[_0x12ba73(0x130)]{constructor(_0x3c9838,_0x1a9bc5,_0x28d195,_0x13cb29,_0x2dd7b1){const _0x413d3e=_0x12ba73;super(),this[_0x413d3e(0x139)]=_0x3c9838,this[_0x413d3e(0x12b)]=_0x1a9bc5,this[_0x413d3e(0x14f)]=_0x28d195,this[_0x413d3e(0x166)]=_0x13cb29,this['shareClose']=_0x2dd7b1,this[_0x413d3e(0x12a)]()[_0x413d3e(0x165)]();}async[_0x12ba73(0x12a)](){const _0x41ec25=_0x12ba73;this['initializeOptions'](),this[_0x41ec25(0x135)](),await this[_0x41ec25(0x126)](),await this[_0x41ec25(0x156)](this[_0x41ec25(0x169)]),await this['stopTrading'](),await this['initializeTrading'](this[_0x41ec25(0x169)]);}async[_0x12ba73(0x156)](_0x5c0266){const _0x13a0b6=_0x12ba73;var _0x2c6a85;if((_0x2c6a85=_0x5c0266===null||_0x5c0266===void 0x0?void 0x0:_0x5c0266[_0x13a0b6(0x168)])===null||_0x2c6a85===void 0x0?void 0x0:_0x2c6a85[_0x13a0b6(0x141)]){this['api']=new api_1[(_0x13a0b6(0x127))]({'token':_0x5c0266[_0x13a0b6(0x168)]['apiKey']}),this[_0x13a0b6(0x145)]();const _0x5f12cf=await this[_0x13a0b6(0x142)]();this[_0x13a0b6(0x14a)]=this[_0x13a0b6(0x139)][_0x13a0b6(0x15a)](_0x5f12cf),this[_0x13a0b6(0x122)]=this[_0x13a0b6(0x12b)][_0x13a0b6(0x15a)](_0x5f12cf),this['shareHalts$']=this['shareHalts'][_0x13a0b6(0x15a)](_0x5f12cf),this['shareReports$']=this[_0x13a0b6(0x166)][_0x13a0b6(0x15a)](_0x5f12cf);}}async[_0x12ba73(0x126)](){const _0x2a6edb=_0x12ba73;this['shareDividends']['unWatch'](),this[_0x2a6edb(0x12b)][_0x2a6edb(0x15b)](),this[_0x2a6edb(0x14f)][_0x2a6edb(0x15b)](),this[_0x2a6edb(0x166)][_0x2a6edb(0x15b)](),this[_0x2a6edb(0x131)]();}async['initializeTrading'](_0x466f75){const _0x2d4c3f=_0x12ba73;if(!this[_0x2d4c3f(0x14e)]||!_0x466f75[_0x2d4c3f(0x168)][_0x2d4c3f(0x13c)])return;this['wallet']=new wallet_1[(_0x2d4c3f(0x158))](this[_0x2d4c3f(0x14e)],_0x466f75[_0x2d4c3f(0x168)]['accountId'],this['options']),await this['wallet']['init'](),await this[_0x2d4c3f(0x153)](),this[_0x2d4c3f(0x129)](),console[_0x2d4c3f(0x151)](_0x2d4c3f(0x159),_0x2d4c3f(0x128),_0x2d4c3f(0x160));}async['stopTrading'](){const _0x5d632c=_0x12ba73;this[_0x5d632c(0x146)](),this[_0x5d632c(0x135)](),console['log'](_0x5d632c(0x161),_0x5d632c(0x121),_0x5d632c(0x160));}async[_0x12ba73(0x153)](){const _0x3c5f37=_0x12ba73;this[_0x3c5f37(0x137)]=new drop_shares_1[(_0x3c5f37(0x12d))](this[_0x3c5f37(0x14e)],this[_0x3c5f37(0x169)]['drop'],this[_0x3c5f37(0x16b)]),this['options'][_0x3c5f37(0x152)]['enabled']&&(await this[_0x3c5f37(0x137)]['start'](this[_0x3c5f37(0x14a)],this['shareFDA$'],this[_0x3c5f37(0x154)],this[_0x3c5f37(0x13d)]),console[_0x3c5f37(0x151)](_0x3c5f37(0x159),'Стратегия\x20СЛЕЗА:\x20запущена',_0x3c5f37(0x160)));}[_0x12ba73(0x135)](){const _0x491329=_0x12ba73;this['sharesDrop']&&this[_0x491329(0x137)][_0x491329(0x13e)]();}[_0x12ba73(0x167)](_0xb733e7){const _0x8fe3ce=_0x12ba73;var _0x1c5a95;super[_0x8fe3ce(0x167)](_0xb733e7),(_0x1c5a95=this['sharesDrop'])===null||_0x1c5a95===void 0x0?void 0x0:_0x1c5a95[_0x8fe3ce(0x167)](this[_0x8fe3ce(0x169)]['drop']),this[_0x8fe3ce(0x137)]&&(!_0xb733e7[_0x8fe3ce(0x152)]['enabled']&&!this['sharesDrop'][_0x8fe3ce(0x140)]&&(this[_0x8fe3ce(0x137)][_0x8fe3ce(0x13e)](),console[_0x8fe3ce(0x151)](_0x8fe3ce(0x159),'Стратегия\x20СЛЕЗА:\x20выключена',_0x8fe3ce(0x160))),_0xb733e7[_0x8fe3ce(0x152)][_0x8fe3ce(0x133)]&&this[_0x8fe3ce(0x137)]['stoped']&&(this[_0x8fe3ce(0x137)][_0x8fe3ce(0x12e)](this[_0x8fe3ce(0x14a)],this[_0x8fe3ce(0x122)],this[_0x8fe3ce(0x154)],this[_0x8fe3ce(0x13d)])['then'](),console['log'](_0x8fe3ce(0x159),_0x8fe3ce(0x15f),'\x1b[37m')));}};function _0x4806(){const _0x3ff2bb=['startTrading','shareFDA','./services/share.reports','DropShares','start','decorate','BaseTrader','onCloseApi','../api/api','enabled','ShareReports','stopStratagies','ShareClose','sharesDrop','1284fQKoQV','shareDividends','__decorate','179ZIddXd','accountId','shareReports$','stop','../stratagies/drop.shares','stoped','apiKey','getShares','@nestjs/common','./services/share.close','onOpenApi','onCloseWallet','7686850ksEDrs','./services/share.dividents','192rSUvVH','shareDividends$','ShareFda','function','./services/share.fda','api','shareHalts','16984OHylRR','log','drop','startStratagies','shareHalts$','getOwnPropertyDescriptor','initializeApi','./classes/wallet','Wallet','\x1b[36m%s\x1b[0m','watch','unWatch','1745jhpWfz','Injectable','Trader','Стратегия\x20СЛЕЗА:\x20запущена','\x1b[37m','\x1b[31m','./classes/trader.base.class','4488632sbVrAQ','ShareDividends','then','shareReports','reloadOptions','settings','options','1982cnLRGt','wallet','object','defineProperty','10084680MjRtzo','ShareHalts','7wqXTLl','length','metadata','Стратегии\x20выключены','shareFDA$','13782KOPvSO','33256gkxsOS','design:paramtypes','stopApi','Api','Стратегии\x20запущены','onOpenWallet'];_0x4806=function(){return _0x3ff2bb;};return _0x4806();}Trader=__decorate([(0x0,common_1[_0x12ba73(0x15d)])(),__metadata(_0x12ba73(0x125),[share_dividents_1[_0x12ba73(0x164)],share_fda_1[_0x12ba73(0x14b)],share_halts_1[_0x12ba73(0x11d)],share_reports_1[_0x12ba73(0x134)],share_close_1[_0x12ba73(0x136)]])],Trader),exports[_0x12ba73(0x15e)]=Trader;